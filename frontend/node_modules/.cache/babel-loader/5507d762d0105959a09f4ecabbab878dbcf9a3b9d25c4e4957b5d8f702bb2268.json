{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[username,setUsername]=useState('');const[phone,setPhone]=useState('');const[otp,setOtp]=useState('');const[message,setMessage]=useState('');const[loggedIn,setLoggedIn]=useState(false);const handleGetOTP=async()=>{try{const response=await axios.post('http://localhost:5000/send-otp',{username,phone});setMessage(response.data.message);}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to send OTP');}};const handleLogin=async()=>{try{const response=await axios.post('http://localhost:5000/login',{username,phone,otp});setMessage(response.data.message);setLoggedIn(true);}catch(error){var _error$response2,_error$response2$data;setMessage(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Login failed');}};return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px'},children:!loggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Page\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone Number: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:e=>setPhone(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGetOTP,children:\"Get OTP\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"OTP: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:otp,onChange:e=>setOtp(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,disabled:!otp,children:\"Login\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message})]}):/*#__PURE__*/_jsxs(\"h1\",{children:[\"Hello \",username,\", you are logged in!\"]})});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","username","setUsername","phone","setPhone","otp","setOtp","message","setMessage","loggedIn","setLoggedIn","handleGetOTP","response","post","data","error","_error$response","_error$response$data","handleLogin","_error$response2","_error$response2$data","style","padding","children","type","value","onChange","e","target","onClick","disabled"],"sources":["/home/sahi/Documents/DemoOTPLoginPage/login-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n    const [username, setUsername] = useState('');\n    const [phone, setPhone] = useState('');\n    const [otp, setOtp] = useState('');\n    const [message, setMessage] = useState('');\n    const [loggedIn, setLoggedIn] = useState(false);\n\n    const handleGetOTP = async () => {\n        try {\n            const response = await axios.post('http://localhost:5000/send-otp', { username, phone });\n            setMessage(response.data.message);\n        } catch (error) {\n            setMessage(error.response?.data?.message || 'Failed to send OTP');\n        }\n    };\n\n    const handleLogin = async () => {\n        try {\n            const response = await axios.post('http://localhost:5000/login', { username, phone, otp });\n            setMessage(response.data.message);\n            setLoggedIn(true);\n        } catch (error) {\n            setMessage(error.response?.data?.message || 'Login failed');\n        }\n    };\n\n    return (\n        <div style={{ padding: '20px' }}>\n            {!loggedIn ? (\n                <>\n                    <h1>Login Page</h1>\n                    <div>\n                        <label>Username: </label>\n                        <input\n                            type=\"text\"\n                            value={username}\n                            onChange={(e) => setUsername(e.target.value)}\n                        />\n                    </div>\n                    <div>\n                        <label>Phone Number: </label>\n                        <input\n                            type=\"text\"\n                            value={phone}\n                            onChange={(e) => setPhone(e.target.value)}\n                        />\n                    </div>\n                    <button onClick={handleGetOTP}>Get OTP</button>\n                    <div>\n                        <label>OTP: </label>\n                        <input\n                            type=\"text\"\n                            value={otp}\n                            onChange={(e) => setOtp(e.target.value)}\n                        />\n                    </div>\n                    <button onClick={handleLogin} disabled={!otp}>Login</button>\n                    {message && <p>{message}</p>}\n                </>\n            ) : (\n                <h1>Hello {username}, you are logged in!</h1>\n            )}\n        </div>\n    );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}